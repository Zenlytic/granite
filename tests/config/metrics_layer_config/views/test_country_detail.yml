version: 1
type: view
name: country_detail
# sql_table_name: analytics.country_detail
derived_table:
  sql: SELECT * FROM ANALYTICS.COUNTRY_DETAIL
  datagroup_trigger: country_detail_datagroup

fields:
  - name: country_id
    field_type: "dimension"
    type: string
    primary_key: yes
    hidden: yes
    sql: ${TABLE}.country
    group_label: "ID's"

  - name: rainfall
    field_type: "dimension"
    type: number
    sql: ${TABLE}.rain

  - name: avg_rainfall
    field_type: "measure"
    type: average
    sql: ${rainfall}
